{% extends "admin/base.html" %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è{% endblock %}

{% block breadcrumbs %}
<a href="/admin" class="admin-breadcrumbs__item">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
    </svg>
</a>
<span class="admin-breadcrumbs__separator">/</span>
<span class="admin-breadcrumbs__current">–ì–ª–∞–≤–Ω–∞—è</span>
{% endblock %}

{% block content %}
<!-- Welcome Section -->
<div class="dashboard-welcome">
    <div class="dashboard-welcome__content">
        <h1 class="dashboard-welcome__title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {{ admin.username }}!</h1>
        <p class="dashboard-welcome__subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ "–ö—É—Ö–Ω—è –î–µ –ü—Ä—É—Å—Å"</p>
    </div>
    <div class="dashboard-welcome__actions">
        <a href="/" class="btn btn--secondary" target="_blank">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                <polyline points="15 3 21 3 21 9"></polyline>
                <line x1="10" y1="14" x2="21" y2="3"></line>
            </svg>
            –û—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç
        </a>
    </div>
</div>

<!-- Stats Grid -->
<div class="stats-grid">
    <div class="stat-card stat-card--highlight">
        <div class="stat-card__icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                <path d="M2 17l10 5 10-5"></path>
                <path d="M2 12l10 5 10-5"></path>
            </svg>
        </div>
        <div class="stat-card__body">
            <span class="stat-card__value">{{ dishes_total }}</span>
            <span class="stat-card__label">–í—Å–µ–≥–æ –±–ª—é–¥</span>
        </div>
        <div class="stat-card__footer">
            <span class="stat-card__meta">{{ dishes_available }} –¥–æ—Å—Ç—É–ø–Ω–æ</span>
        </div>
    </div>

    <div class="stat-card stat-card--success">
        <div class="stat-card__icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22 4 12 14.01 9 11.01"></polyline>
            </svg>
        </div>
        <div class="stat-card__body">
            <span class="stat-card__value">{{ dishes_available }}</span>
            <span class="stat-card__label">–í –Ω–∞–ª–∏—á–∏–∏</span>
        </div>
        <div class="stat-card__footer">
            <span class="stat-card__meta stat-card__meta--success">
                {% if dishes_total > 0 %}{{ ((dishes_available / dishes_total) * 100)|int }}%{% else %}0%{% endif %} –º–µ–Ω—é
            </span>
        </div>
    </div>

    <div class="stat-card stat-card--warning">
        <div class="stat-card__icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line>
            </svg>
        </div>
        <div class="stat-card__body">
            <span class="stat-card__value">{{ dishes_unavailable }}</span>
            <span class="stat-card__label">–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏</span>
        </div>
        <div class="stat-card__footer">
            {% if dishes_unavailable > 0 %}
            <a href="/admin/dishes?status=false" class="stat-card__link">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å ‚Üí</a>
            {% else %}
            <span class="stat-card__meta">–í—Å—ë –¥–æ—Å—Ç—É–ø–Ω–æ</span>
            {% endif %}
        </div>
    </div>

    <div class="stat-card stat-card--info">
        <div class="stat-card__icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
            </svg>
        </div>
        <div class="stat-card__body">
            <span class="stat-card__value">{{ categories_total }}</span>
            <span class="stat-card__label">–ö–∞—Ç–µ–≥–æ—Ä–∏–π</span>
        </div>
        <div class="stat-card__footer">
            <span class="stat-card__meta">{{ categories_active }} –∞–∫—Ç–∏–≤–Ω—ã—Ö</span>
        </div>
    </div>
</div>

<!-- Main Content Grid -->
<div class="dashboard-content">
    <!-- Left Column -->
    <div class="dashboard-main">
        <!-- Dish Stats Widget -->
        <div class="dashboard-card dashboard-widget">
            <div class="dashboard-card__header">
                <h2 class="dashboard-card__title">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path>
                        <path d="M22 12A10 10 0 0 0 12 2v10z"></path>
                    </svg>
                    –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–ª—é–¥
                </h2>
            </div>
            <div class="dashboard-card__body">
                <!-- –¶–µ–Ω–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="price-stats">
                    <div class="price-stat">
                        <span class="price-stat__label">–ú–∏–Ω. —Ü–µ–Ω–∞</span>
                        <span class="price-stat__value">{{ price_min|int }} &#8381;</span>
                    </div>
                    <div class="price-stat price-stat--highlight">
                        <span class="price-stat__label">–°—Ä–µ–¥–Ω—è—è</span>
                        <span class="price-stat__value" data-count="{{ price_avg|int }}">{{ price_avg|int }} &#8381;</span>
                    </div>
                    <div class="price-stat">
                        <span class="price-stat__label">–ú–∞–∫—Å. —Ü–µ–Ω–∞</span>
                        <span class="price-stat__value">{{ price_max|int }} &#8381;</span>
                    </div>
                </div>

                <!-- –°—Ä–µ–¥–Ω—è—è –∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å -->
                {% if calories_avg %}
                <div class="calories-stat">
                    <span class="calories-stat__label">–°—Ä–µ–¥–Ω—è—è –∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å</span>
                    <span class="calories-stat__value" data-count="{{ calories_avg|int }}">{{ calories_avg|int }} –∫–∫–∞–ª</span>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Activity Feed Widget (NEW) -->
        <div class="dashboard-card dashboard-widget" id="activityWidget">
            <div class="dashboard-card__header">
                <h2 class="dashboard-card__title">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12 6 12 12 16 14"></polyline>
                    </svg>
                    –ò—Å—Ç–æ—Ä–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
                </h2>
                <select id="activityPeriod" class="filter-select--mini">
                    <option value="all">–í—Å—ë –≤—Ä–µ–º—è</option>
                    <option value="today">–°–µ–≥–æ–¥–Ω—è</option>
                    <option value="week">–ù–µ–¥–µ–ª—è</option>
                    <option value="month">–ú–µ—Å—è—Ü</option>
                </select>
            </div>
            <div class="dashboard-card__body dashboard-card__body--flush">
                <div class="activity-feed" id="activityFeed">
                    {% if recent_logs %}
                    {% for log in recent_logs[:8] %}
                    <div class="activity-item" data-action="{{ log.action }}">
                        <div class="activity-item__icon activity-item__icon--{{ log.action }}">
                            {% if log.action == 'create' %}
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            {% elif log.action == 'update' %}
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>
                            </svg>
                            {% elif log.action == 'delete' %}
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="3 6 5 6 21 6"></polyline>
                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                            </svg>
                            {% elif log.action in ['login', 'logout'] %}
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path>
                                <polyline points="10 17 15 12 10 7"></polyline>
                                <line x1="15" y1="12" x2="3" y2="12"></line>
                            </svg>
                            {% else %}
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="8" x2="12" y2="12"></line>
                                <line x1="12" y1="16" x2="12.01" y2="16"></line>
                            </svg>
                            {% endif %}
                        </div>
                        <div class="activity-item__content">
                            <div class="activity-item__header">
                                <span class="activity-item__admin">{{ log.admin_user.username if log.admin_user else '–°–∏—Å—Ç–µ–º–∞' }}</span>
                                <span class="activity-item__action-badge activity-item__action-badge--{{ log.action }}">
                                    {{ action_display.get(log.action, log.action) }}
                                </span>
                            </div>
                            <div class="activity-item__entity">
                                {{ entity_type_display.get(log.entity_type, log.entity_type) }}: <strong>{{ log.entity_name or '‚Äî' }}</strong>
                            </div>
                        </div>
                        <time class="activity-item__time" datetime="{{ log.created_at.isoformat() if log.created_at else '' }}">
                            {% if log.created_at %}
                            {% set delta = (now - log.created_at).total_seconds()|int %}
                            {% if delta < 60 %}—Å–µ–π—á–∞—Å{% elif delta < 3600 %}{{ (delta // 60)|int }} –º–∏–Ω.{% elif delta < 86400 %}{{ (delta // 3600)|int }} —á.{% else %}{{ (delta // 86400)|int }} –¥–Ω.{% endif %}
                            {% endif %}
                        </time>
                    </div>
                    {% endfor %}
                    {% else %}
                    <div class="activity-empty">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="3" y1="9" x2="21" y2="9"></line>
                        </svg>
                        <p>–ù–µ—Ç –∑–∞–ø–∏—Å–µ–π</p>
                    </div>
                    {% endif %}
                </div>
            </div>
            <div class="dashboard-card__footer">
                <a href="/admin/audit-logs" class="dashboard-card__link">–í—Å—è –∏—Å—Ç–æ—Ä–∏—è &#8594;</a>
            </div>
        </div>

        <!-- Recent Dishes -->
        <div class="dashboard-card">
            <div class="dashboard-card__header">
                <h2 class="dashboard-card__title">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12 6 12 12 16 14"></polyline>
                    </svg>
                    –ü–æ—Å–ª–µ–¥–Ω–∏–µ –±–ª—é–¥–∞
                </h2>
                <a href="/admin/dishes" class="dashboard-card__link">–í—Å–µ –±–ª—é–¥–∞ ‚Üí</a>
            </div>
            <div class="dashboard-card__body dashboard-card__body--flush">
                <div class="recent-list">
                    {% for dish in recent_dishes[:6] %}
                    <a href="/admin/dishes/{{ dish.id }}/edit" class="recent-item">
                        <div class="recent-item__image">
                            {% if dish.image_thumbnail %}
                            <img src="{{ dish.image_thumbnail }}" alt="{{ dish.name }}">
                            {% else %}
                            <div class="recent-item__placeholder">üçΩÔ∏è</div>
                            {% endif %}
                        </div>
                        <div class="recent-item__content">
                            <span class="recent-item__name">{{ dish.name }}</span>
                            <span class="recent-item__meta">{{ dish.category.name }} ¬∑ {{ dish.price|int }} ‚ÇΩ</span>
                        </div>
                        <div class="recent-item__status">
                            {% if dish.is_available %}
                            <span class="status-dot status-dot--success"></span>
                            {% else %}
                            <span class="status-dot status-dot--warning"></span>
                            {% endif %}
                        </div>
                    </a>
                    {% else %}
                    <div class="empty-state">
                        <p>–ù–µ—Ç –Ω–µ–¥–∞–≤–Ω–∏—Ö –±–ª—é–¥</p>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>

    <!-- Right Sidebar -->
    <div class="dashboard-sidebar">
        <!-- Quick Actions -->
        <div class="dashboard-card dashboard-card--accent">
            <div class="dashboard-card__header">
                <h2 class="dashboard-card__title">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
                    </svg>
                    –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
                </h2>
            </div>
            <div class="dashboard-card__body">
                <div class="quick-actions">
                    <a href="/admin/dishes/new" class="quick-action quick-action--primary">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        –ù–æ–≤–æ–µ –±–ª—é–¥–æ
                    </a>
                    <a href="/admin/categories/new" class="quick-action">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
                            <line x1="12" y1="11" x2="12" y2="17"></line>
                            <line x1="9" y1="14" x2="15" y2="14"></line>
                        </svg>
                        –ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
                    </a>
                </div>
            </div>
        </div>

        <!-- Attention Widget -->
        {% if dishes_unavailable > 0 or categories_inactive > 0 %}
        <div class="dashboard-card dashboard-card--warning">
            <div class="dashboard-card__header">
                <h2 class="dashboard-card__title">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
                        <line x1="12" y1="9" x2="12" y2="13"></line>
                        <line x1="12" y1="17" x2="12.01" y2="17"></line>
                    </svg>
                    –¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è
                </h2>
            </div>
            <div class="dashboard-card__body">
                <div class="attention-items">
                    {% if dishes_unavailable > 0 %}
                    <a href="/admin/dishes?status=false" class="attention-item">
                        <span class="attention-item__count">{{ dishes_unavailable }}</span>
                        <span class="attention-item__text">–±–ª—é–¥ –Ω–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏</span>
                    </a>
                    {% endif %}
                    {% if categories_inactive > 0 %}
                    <a href="/admin/categories?status=false" class="attention-item">
                        <span class="attention-item__count">{{ categories_inactive }}</span>
                        <span class="attention-item__text">—Å–∫—Ä—ã—Ç—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π</span>
                    </a>
                    {% endif %}
                </div>
            </div>
        </div>
        {% else %}
        <div class="dashboard-card dashboard-card--success">
            <div class="dashboard-card__body dashboard-card__body--centered">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
                <p class="success-message">–í—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ!</p>
                <span class="success-submessage">–ù–µ—Ç –ø—Ä–æ–±–ª–µ–º, —Ç—Ä–µ–±—É—é—â–∏—Ö –≤–Ω–∏–º–∞–Ω–∏—è</span>
            </div>
        </div>
        {% endif %}

        <!-- Data Quality Widget (NEW) -->
        <div class="dashboard-card dashboard-widget">
            <div class="dashboard-card__header">
                <h2 class="dashboard-card__title">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 11l3 3L22 4"></path>
                        <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
                    </svg>
                    –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö
                </h2>
            </div>
            <div class="dashboard-card__body">
                <!-- –ö—Ä—É–≥–æ–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å -->
                <div class="quality-score">
                    <div class="quality-score__ring" data-percentage="{{ data_completeness }}">
                        <svg viewBox="0 0 100 100">
                            <circle class="quality-score__bg" cx="50" cy="50" r="45"/>
                            <circle class="quality-score__progress" cx="50" cy="50" r="45"
                                    stroke-dasharray="283"
                                    stroke-dashoffset="{{ 283 - (283 * data_completeness / 100) }}"/>
                        </svg>
                        <span class="quality-score__value" data-count="{{ data_completeness }}">{{ data_completeness }}%</span>
                    </div>
                    <span class="quality-score__label">–ü–æ–ª–Ω–æ—Ç–∞ –º–µ–Ω—é</span>
                </div>

                <!-- –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ -->
                <div class="quality-issues">
                    {% if dishes_without_images > 0 %}
                    <a href="/admin/dishes?has_image=false" class="quality-issue">
                        <span class="quality-issue__icon quality-issue__icon--warning">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                                <polyline points="21 15 16 10 5 21"></polyline>
                            </svg>
                        </span>
                        <span class="quality-issue__text">–ë–µ–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</span>
                        <span class="quality-issue__count">{{ dishes_without_images }}</span>
                    </a>
                    {% endif %}

                    {% if dishes_without_description > 0 %}
                    <a href="/admin/dishes?has_description=false" class="quality-issue">
                        <span class="quality-issue__icon quality-issue__icon--info">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="16" y1="13" x2="8" y2="13"></line>
                                <line x1="16" y1="17" x2="8" y2="17"></line>
                            </svg>
                        </span>
                        <span class="quality-issue__text">–ë–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è</span>
                        <span class="quality-issue__count">{{ dishes_without_description }}</span>
                    </a>
                    {% endif %}

                    {% if dishes_without_calories > 0 %}
                    <a href="/admin/dishes?has_calories=false" class="quality-issue">
                        <span class="quality-issue__icon quality-issue__icon--muted">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                            </svg>
                        </span>
                        <span class="quality-issue__text">–ë–µ–∑ –∫–∞–ª–æ—Ä–∏–π</span>
                        <span class="quality-issue__count">{{ dishes_without_calories }}</span>
                    </a>
                    {% endif %}

                    {% if dishes_without_images == 0 and dishes_without_description == 0 and dishes_without_calories == 0 %}
                    <div class="quality-success">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                        </svg>
                        <span>–í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã!</span>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Admin Info -->
        <div class="dashboard-card">
            <div class="dashboard-card__header">
                <h2 class="dashboard-card__title">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                        <circle cx="9" cy="7" r="4"></circle>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                    </svg>
                    –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã
                </h2>
            </div>
            <div class="dashboard-card__body">
                <div class="admin-stats">
                    <div class="admin-stat">
                        <span class="admin-stat__value">{{ admins_total }}</span>
                        <span class="admin-stat__label">–í—Å–µ–≥–æ</span>
                    </div>
                    <div class="admin-stat admin-stat--success">
                        <span class="admin-stat__value">{{ admins_active }}</span>
                        <span class="admin-stat__label">–ê–∫—Ç–∏–≤–Ω—ã—Ö</span>
                    </div>
                </div>
                <a href="/admin/users" class="btn btn--secondary btn--block">
                    –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
                </a>
            </div>
        </div>

        <!-- Export -->
        <div class="dashboard-card">
            <div class="dashboard-card__header">
                <h2 class="dashboard-card__title">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                    –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
                </h2>
            </div>
            <div class="dashboard-card__body">
                <div class="export-links">
                    <a href="/admin/api/dishes/export?format=excel" class="export-link">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                        </svg>
                        –ë–ª—é–¥–∞ (Excel)
                    </a>
                    <a href="/admin/api/categories/export?format=excel" class="export-link">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                        </svg>
                        –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (Excel)
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
